<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>SSM框架整合回顾(一) - Carson</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="Spring + springMVC + MyBatis 实现 登录+增删改查+分页查询">
<meta name="keywords" content="SSM框架">
<meta property="og:type" content="article">
<meta property="og:title" content="SSM框架整合回顾(一)">
<meta property="og:url" content="http://yoursite.com/2019/05/24/ssm/index.html">
<meta property="og:site_name" content="Carson">
<meta property="og:description" content="Spring + springMVC + MyBatis 实现 登录+增删改查+分页查询">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta property="og:updated_time" content="2019-06-15T13:23:30.237Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SSM框架整合回顾(一)">
<meta name="twitter:description" content="Spring + springMVC + MyBatis 实现 登录+增删改查+分页查询">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">
	<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="SSM框架整合回顾(一)" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">主页</a>
                
                <a class="navbar-item" href="/archives">归纳</a>
                
                <a class="navbar-item" href="/categories">分类</a>
                
                <a class="navbar-item" href="/tags">标签</a>
                
                <a class="navbar-item" href="/about">关于我</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/aaaTao66">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
	
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-05-23T16:00:00.000Z">2019-05-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Spring-SpringMVC-MyBatis/">Spring-SpringMVC-MyBatis</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    21 minutes read (About 3138 words)
                </span>
                
                
                阅读次数:
				<span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span> visits
                </span>
				
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                SSM框架整合回顾(一)
            
        </h1>
        <div class="content">
            <p>Spring + springMVC + MyBatis 实现 登录+增删改查+分页查询</p>
<a id="more"></a>
<hr>
<h3 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境:"></a>开发环境:</h3><p>win10 , </p>
<p>jdk1.8 ,</p>
<p>idea 2019.1.1 ,</p>
<p>tomcat 8.5.38 ,</p>
<p>maven ,</p>
<p>pageHelp </p>
<p>以上工具一定要有</p>
<hr>
<p><img src="/2019/05/24/ssm/a11.jpg" alt></p>
<p><img src="/2019/05/24/ssm/a22.jpg" alt></p>
<h4 id="pom-xml-文件"><a href="#pom-xml-文件" class="headerlink" title="pom.xml 文件:"></a>pom.xml 文件:</h4><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">&lt;properties&gt;</span><br><span class="line">    &lt;project.srping.version&gt;5.0.0.RELEASE&lt;/project.srping.version&gt;</span><br><span class="line">  &lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--Spring的依赖--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;project.srping.version&#125;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;project.srping.version&#125;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;project.srping.version&#125;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;project.srping.version&#125;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;project.srping.version&#125;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;$&#123;project.srping.version&#125;&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!-- 德鲁伊连接池 --&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;druid&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.1.9&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;5.1.38&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;3.4.5&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;!--mybatis和Spring的整合--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.3.1&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!--日志--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;log4j&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.2.17&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.7.25&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.7.25&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;jstl&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;jstl&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;3.1.0&lt;/version&gt;</span><br><span class="line">      &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.16.20&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;4.12&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;1.8.13&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--PageHelper分页插件--&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;pagehelper&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;5.1.2&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">  &lt;build&gt;</span><br><span class="line">    &lt;resources&gt;</span><br><span class="line">      &lt;resource&gt;</span><br><span class="line">        &lt;directory&gt;src/main/java&lt;/directory&gt;</span><br><span class="line">        &lt;includes&gt;</span><br><span class="line">          &lt;include&gt;**<span class="hljs-comment">/*.xml&lt;/include&gt;</span></span><br><span class="line"><span class="hljs-comment">        &lt;/includes&gt;</span></span><br><span class="line"><span class="hljs-comment">      &lt;/resource&gt;</span></span><br><span class="line"><span class="hljs-comment">    &lt;/resources&gt;</span></span><br><span class="line"><span class="hljs-comment">  &lt;/build&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="Mybatis于Spring的整合-applicationContext-xml"><a href="#Mybatis于Spring的整合-applicationContext-xml" class="headerlink" title="Mybatis于Spring的整合 applicationContext.xml:"></a>Mybatis于Spring的整合 applicationContext.xml:</h4><figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:context=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><br><span class="line">       xmlns:aop=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><br><span class="line">       xmlns:tx=<span class="hljs-string">"http://www.springframework.org/schema/tx"</span></span><br><span class="line">       xmlns:xsi=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="hljs-string">"</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/context</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/aop</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/aop/spring-aop.xsd</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/tx</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/tx/spring-tx.xsd</span></span><br><span class="line"><span class="hljs-string">"</span>&gt;</span><br><span class="line">    &lt;!--引入属性配置文件--&gt;</span><br><span class="line">    &lt;context:property-placeholder location=<span class="hljs-string">"classpath:db.properties"</span> system-properties-mode=<span class="hljs-string">"NEVER"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--德鲁伊连接池--&gt;</span><br><span class="line">    &lt;bean id=<span class="hljs-string">"dataSource"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"driverClassName"</span> value=<span class="hljs-string">"$&#123;driverClassName&#125;"</span>/&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"url"</span> value=<span class="hljs-string">"$&#123;url&#125;"</span>/&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"username"</span> value=<span class="hljs-string">"$&#123;username&#125;"</span>/&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"password"</span> value=<span class="hljs-string">"$&#123;password&#125;"</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--sqlsessionfactory对象--&gt;</span><br><span class="line">    &lt;bean id=<span class="hljs-string">"sqlSessionFactoryBean"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span><br><span class="line">        &lt;!--配置连接池--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"dataSource"</span> ref=<span class="hljs-string">"dataSource"</span>/&gt;</span><br><span class="line">        &lt;!--关联mybatis主配置文件--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"configLocation"</span> value=<span class="hljs-string">"classpath:mybatis.xml"</span>/&gt;</span><br><span class="line">        &lt;!--配置别名--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"typeAliasesPackage"</span> value=<span class="hljs-string">"com.ujiuye.domain"</span>/&gt;</span><br><span class="line">        &lt;!--关联mapper映射文件--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"mapperLocations"</span> value=<span class="hljs-string">"classpath:com/ujiuye/mapper/*.xml"</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--配置mapper接口的扫描器--&gt;</span><br><span class="line">    &lt;bean <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span><br><span class="line">        &lt;!--从哪个包扫描mapper接口--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"basePackage"</span> value=<span class="hljs-string">"com.ujiuye.mapper"</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- ioc 注解扫描器--&gt;</span><br><span class="line">    &lt;context:component-scan base-<span class="hljs-keyword">package</span>=<span class="hljs-string">"com.ujiuye"</span>/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!--配置事务管理器--&gt;</span><br><span class="line">    &lt;tx:annotation-driven /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;bean id=<span class="hljs-string">"txManager"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"dataSource"</span> ref=<span class="hljs-string">"dataSource"</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">    &lt;!--配置事务--&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;!--配置where--&gt;</span><br><span class="line">        &lt;aop:pointcut id=<span class="hljs-string">"txPointcut"</span> expression=<span class="hljs-string">"execution(* com.ujiuye.service..*.*(..))"</span>/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!--切面--&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=<span class="hljs-string">"txAdvice"</span> pointcut-ref=<span class="hljs-string">"txPointcut"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/aop:config&gt;</span><br><span class="line">    &lt;!--增强器--&gt;</span><br><span class="line">    &lt;tx:advice id=<span class="hljs-string">"txAdvice"</span> transaction-manager=<span class="hljs-string">"txManager"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;tx:attributes&gt;</span><br><span class="line">            &lt;tx:method name=<span class="hljs-string">"list*"</span> read-only=<span class="hljs-string">"true"</span>/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;tx:method name=<span class="hljs-string">"get*"</span> read-only=<span class="hljs-string">"true"</span>/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;tx:method name=<span class="hljs-string">"select*"</span> read-only=<span class="hljs-string">"true"</span>/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;tx:method name=<span class="hljs-string">"find*"</span> read-only=<span class="hljs-string">"true"</span>/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;tx:method name=<span class="hljs-string">"query*"</span> read-only=<span class="hljs-string">"true"</span>/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;tx:method name=<span class="hljs-string">"*"</span>/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/tx:attributes&gt;</span><br><span class="line">    &lt;/tx:advice&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
<p>applicationCoutext.xml文件总结:</p>
<p>事务中我给查询的方法加上了 read-only=”true”,只读状态可以提高性能</p>
<p>没有配置read-only的method默认非只读</p>
<hr>
<h4 id="SpringMVC-xml的配置"><a href="#SpringMVC-xml的配置" class="headerlink" title="SpringMVC.xml的配置:"></a>SpringMVC.xml的配置:</h4><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:mvc=<span class="hljs-string">"http://www.springframework.org/schema/mvc"</span></span><br><span class="line">       xmlns:xsi=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="hljs-string">"</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/mvc</span></span><br><span class="line"><span class="hljs-string">       http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span><br><span class="line"><span class="hljs-string">"</span>&gt;</span><br><span class="line">    &lt;!--引入后台的spring的配置文件--&gt;</span><br><span class="line">    &lt;<span class="hljs-keyword">import</span> resource=<span class="hljs-string">"classpath:applicationContext.xml"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--视图解析器--&gt;</span><br><span class="line">    &lt;bean <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span><br><span class="line">        &lt;!--配置前缀--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"prefix"</span> value=<span class="hljs-string">"/WEB-INF/views/"</span>/&gt;</span><br><span class="line">        &lt;!--配置后缀--&gt;</span><br><span class="line">        &lt;property name=<span class="hljs-string">"suffix"</span> value=<span class="hljs-string">".jsp"</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--SpringMVC注解解析器--&gt;</span><br><span class="line">    &lt;mvc:annotation-driven/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!--拦截器--&gt;</span><br><span class="line">    &lt;mvc:interceptors&gt;</span><br><span class="line">        &lt;mvc:interceptor&gt;</span><br><span class="line">            &lt;!--拦截的路径<span class="hljs-comment">/*一级路径 /**所有路径--&gt;</span></span><br><span class="line"><span class="hljs-comment">            &lt;mvc:mapping path="/**"/&gt;</span></span><br><span class="line"><span class="hljs-comment">            &lt;!--排除登录页面--&gt;</span></span><br><span class="line"><span class="hljs-comment">            &lt;mvc:exclude-mapping path="/login.do"/&gt;</span></span><br><span class="line"><span class="hljs-comment">            &lt;bean class="com.ujiuye.interceptor.LoginInterceptor"&gt;&lt;/bean&gt;</span></span><br><span class="line"><span class="hljs-comment">        &lt;/mvc:interceptor&gt;</span></span><br><span class="line"><span class="hljs-comment">    &lt;/mvc:interceptors&gt;</span></span><br><span class="line"><span class="hljs-comment"></span></span><br><span class="line"><span class="hljs-comment"></span></span><br><span class="line"><span class="hljs-comment">&lt;/beans&gt;</span></span><br></pre></td></tr></table></figure>
<p>拦截器:</p>
<p>必须让用户登录才能进入到更深层的jsp,然后 /** 表示拦截所有,但是我们要排除login这个登录页面</p>
<p>等一下要配置一下拦截的类</p>
<hr>
<h4 id="MyBatis-xml"><a href="#MyBatis-xml" class="headerlink" title="MyBatis.xml:"></a>MyBatis.xml:</h4><figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration PUBLIC <span class="hljs-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span><br><span class="line">        <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--	pagehelp拦截器配置--&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;!-- com.github.pagehelper为PageHelper类所在包名 --&gt;</span><br><span class="line">        &lt;plugin interceptor=<span class="hljs-string">"com.github.pagehelper.PageInterceptor"</span>&gt;</span><br><span class="line">            &lt;!-- 使用下面的方式配置参数，后面会有所有的参数介绍 --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">    &lt;/plugins&gt;</span><br><span class="line"></span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p> plugins在配置文件中的位置必须符合要求，否则会报错，顺序如下:<br>    properties?, settings?,<br>    typeAliases?, typeHandlers?,<br>    objectFactory?,objectWrapperFactory?,<br>    plugins?,<br>    environments?, databaseIdProvider?, mappers?</p>
<hr>
<h4 id="web-xml"><a href="#web-xml" class="headerlink" title="web.xml:"></a>web.xml:</h4><figure class="highlight jsp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;web-app xmlns=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span><br><span class="line">         xmlns:xsi=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">         xsi:schemaLocation=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee</span></span><br><span class="line"><span class="hljs-string">                      http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"</span></span><br><span class="line">         version=<span class="hljs-string">"3.1"</span></span><br><span class="line">         metadata-complete=<span class="hljs-string">"true"</span>&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;!--前端控制器--&gt;</span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;</span><br><span class="line">    &lt;servlet-<span class="hljs-class"><span class="hljs-keyword">class</span>&gt;<span class="hljs-title">org</span>.<span class="hljs-title">springframework</span>.<span class="hljs-title">web</span>.<span class="hljs-title">servlet</span>.<span class="hljs-title">DispatcherServlet</span>&lt;/<span class="hljs-title">servlet</span>-<span class="hljs-title">class</span>&gt;</span></span><br><span class="line"><span class="hljs-class">  &lt;!--<span class="hljs-title">spring</span>的配置文件--&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;<span class="hljs-title">contextConfigLocation</span>&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;</span></span><br><span class="line">      &lt;param-value&gt;classpath:SpringMVC.xml&lt;/param-value&gt;</span><br><span class="line">    &lt;/init-param&gt;</span><br><span class="line">    &lt;!--tomcat启动时初始化--&gt;</span><br><span class="line">    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</span><br><span class="line">  &lt;/servlet&gt;</span><br><span class="line"></span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;</span><br><span class="line">       &lt;!--*.<span class="hljs-keyword">do</span>意思是访问页面的时候后缀要加上 .<span class="hljs-keyword">do</span>--&gt;</span><br><span class="line">    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;</span><br><span class="line">  &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--请求编码过滤器--&gt;</span><br><span class="line">  &lt;filter&gt;</span><br><span class="line">    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;</span><br><span class="line">    &lt;filter-<span class="hljs-class"><span class="hljs-keyword">class</span>&gt;<span class="hljs-title">org</span>.<span class="hljs-title">springframework</span>.<span class="hljs-title">web</span>.<span class="hljs-title">filter</span>.<span class="hljs-title">CharacterEncodingFilter</span>&lt;/<span class="hljs-title">filter</span>-<span class="hljs-title">class</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;<span class="hljs-title">encoding</span>&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">value</span>&gt;<span class="hljs-title">UTF</span>-8&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">value</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;/<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;<span class="hljs-title">forceRequestEncoding</span>&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">value</span>&gt;<span class="hljs-title">true</span>&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">value</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;/<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;<span class="hljs-title">forceResponseEncoding</span>&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">name</span>&gt;</span></span><br><span class="line"><span class="hljs-class">      &lt;<span class="hljs-title">param</span>-<span class="hljs-title">value</span>&gt;<span class="hljs-title">true</span>&lt;/<span class="hljs-title">param</span>-<span class="hljs-title">value</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;/<span class="hljs-title">init</span>-<span class="hljs-title">param</span>&gt;</span></span><br><span class="line"><span class="hljs-class">  &lt;/<span class="hljs-title">filter</span>&gt;</span></span><br><span class="line"><span class="hljs-class"></span></span><br><span class="line"><span class="hljs-class">  &lt;<span class="hljs-title">filter</span>-<span class="hljs-title">mapping</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">filter</span>-<span class="hljs-title">name</span>&gt;<span class="hljs-title">characterEncodingFilter</span>&lt;/<span class="hljs-title">filter</span>-<span class="hljs-title">name</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">url</span>-<span class="hljs-title">pattern</span>&gt;/*&lt;/<span class="hljs-title">url</span>-<span class="hljs-title">pattern</span>&gt;</span></span><br><span class="line"><span class="hljs-class">  &lt;/<span class="hljs-title">filter</span>-<span class="hljs-title">mapping</span>&gt;</span></span><br><span class="line"><span class="hljs-class">	&lt;!--设置欢迎页,意思是登录页,以前默认<span class="hljs-title">index</span>.<span class="hljs-title">jsp</span>,现在是<span class="hljs-title">login</span>.<span class="hljs-title">jsp</span>--&gt;</span></span><br><span class="line"><span class="hljs-class">  &lt;<span class="hljs-title">welcome</span>-<span class="hljs-title">file</span>-<span class="hljs-title">list</span>&gt;</span></span><br><span class="line"><span class="hljs-class">    &lt;<span class="hljs-title">welcome</span>-<span class="hljs-title">file</span>&gt;<span class="hljs-title">login</span>.<span class="hljs-title">jsp</span>&lt;/<span class="hljs-title">welcome</span>-<span class="hljs-title">file</span>&gt;</span></span><br><span class="line"><span class="hljs-class">  &lt;/<span class="hljs-title">welcome</span>-<span class="hljs-title">file</span>-<span class="hljs-title">list</span>&gt;</span></span><br><span class="line"><span class="hljs-class">&lt;/<span class="hljs-title">web</span>-<span class="hljs-title">app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="controller"><a href="#controller" class="headerlink" title="controller:"></a>controller:</h4><h5 id="LoginController-gt"><a href="#LoginController-gt" class="headerlink" title="LoginController&gt;"></a>LoginController&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.domain.User;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.service.IUserService;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Controller</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> IUserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//登录方法</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"login"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">login</span><span class="hljs-params">(String username, String password,</span></span></span><br><span class="line"><span class="hljs-function"><span class="hljs-params">                        HttpSession session, Model model)</span></span>&#123;</span><br><span class="line">        User user = userService.selectLogin(username, password);</span><br><span class="line">        <span class="hljs-keyword">if</span> (user!=<span class="hljs-keyword">null</span>)&#123;</span><br><span class="line">            <span class="hljs-comment">//user对象放入session作用域</span></span><br><span class="line">            session.setAttribute(<span class="hljs-string">"USER_IN_SESSION"</span>,user);</span><br><span class="line">            <span class="hljs-comment">//跳转到用户列表页面</span></span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/user/query.do"</span>;</span><br><span class="line">        &#125;<span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            <span class="hljs-comment">//跳转到登录页面,提示用户名或密码错误</span></span><br><span class="line">            model.addAttribute(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"用户名或者密码错误"</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"forward:/login.jsp"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果登录密码是正确的,那么这里的 user 是不为 null的,他就会跳转到用户列表页面,</p>
<p>如果密码错误,还会跳的登录页,</p>
<hr>
<h5 id="UserController-gt"><a href="#UserController-gt" class="headerlink" title="UserController&gt;"></a>UserController&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.controller;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.domain.User;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.QueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.result.PageResult;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.service.IUserService;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ModelAttribute;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Controller</span></span><br><span class="line"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"user"</span>)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> IUserService service;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//多条件查询 + 分页</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"query"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">query</span><span class="hljs-params">(@ModelAttribute(<span class="hljs-string">"qo"</span>)</span> QueryObject qo,Model model)</span>&#123;</span><br><span class="line"><span class="hljs-comment">//        PageResult result = service.query2(qo);</span></span><br><span class="line"><span class="hljs-comment">//        model.addAttribute("result",result);</span></span><br><span class="line">        PageInfo pageInfo = service.query3(qo);</span><br><span class="line"></span><br><span class="line">        model.addAttribute(<span class="hljs-string">"pageInfo"</span>,pageInfo);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"user/list"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//查询列表的方法</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"list"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">list</span><span class="hljs-params">(Model model)</span></span>&#123;</span><br><span class="line">        List&lt;User&gt; list = service.list();</span><br><span class="line">        model.addAttribute(<span class="hljs-string">"list"</span>,list);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"user/list"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//跳转到用户编辑页面</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"edit"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">edit</span><span class="hljs-params">(Long id,Model model)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (id!=<span class="hljs-keyword">null</span>)&#123;</span><br><span class="line">            User user = service.get(id);</span><br><span class="line">            <span class="hljs-comment">//往前台传数据</span></span><br><span class="line">            model.addAttribute(<span class="hljs-string">"user"</span>,user);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"user/edit"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//保存</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"saveOrUpdate"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">saveOrUpdate</span><span class="hljs-params">(User user)</span></span>&#123;</span><br><span class="line">        <span class="hljs-comment">//判断user对象中的id的值,从而区分是在做新增还是修改</span></span><br><span class="line">        <span class="hljs-keyword">if</span> (user.getId()==<span class="hljs-keyword">null</span>)&#123;</span><br><span class="line">            service.save(user);</span><br><span class="line">        &#125;<span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            service.update(user);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span>  <span class="hljs-string">"redirect:/user/list.do"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//删除</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"delete"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">delete</span><span class="hljs-params">(Long id)</span></span>&#123;</span><br><span class="line">        <span class="hljs-comment">//删除操作</span></span><br><span class="line">        service.delete(id);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/user/list.do"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="domain-实体类"><a href="#domain-实体类" class="headerlink" title="domain 实体类:"></a>domain 实体类:</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.domain;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.*;</span><br><span class="line"><span class="hljs-keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Setter</span><span class="hljs-meta">@Getter</span></span><br><span class="line"><span class="hljs-meta">@AllArgsConstructor</span></span><br><span class="line"><span class="hljs-meta">@NoArgsConstructor</span></span><br><span class="line"><span class="hljs-meta">@ToString</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> BigDecimal salary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="interceptor登录检查-gt"><a href="#interceptor登录检查-gt" class="headerlink" title="interceptor登录检查&gt;"></a>interceptor登录检查&gt;</h4><h5 id="LoginInterceptor"><a href="#LoginInterceptor" class="headerlink" title="LoginInterceptor:"></a>LoginInterceptor:</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.interceptor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//登录检查,实现接口里的这个方法</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="hljs-comment">//判断session中是否有"USER_IN_SESSION"的key</span></span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        Object user = session.getAttribute(<span class="hljs-string">"USER_IN_SESSION"</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span> (user == <span class="hljs-keyword">null</span>)&#123;</span><br><span class="line">            <span class="hljs-comment">//跳转到登录页面</span></span><br><span class="line">            response.sendRedirect(<span class="hljs-string">"login.jsp"</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span>  <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>刚刚在LoginController定义了if else,如果登录 !=null 那么session里会有 USER_IN_SESSION 这个key,return ture</p>
<p>如果为null 就会跳转到登录页面;</p>
<h6 id="实现HandlerInterceptor接口"><a href="#实现HandlerInterceptor接口" class="headerlink" title="实现HandlerInterceptor接口:"></a>实现HandlerInterceptor接口:</h6><p>   HandlerInterceptor 接口中定义了三个方法，我们就是通过这三个方法来对用户的请求进行拦截处理的。</p>
<p>   （1 ）preHandle (HttpServletRequest request, HttpServletResponse response, Object handle) 方法，</p>
<p>顾名思义，该方法将在请求处理之前进行调用。SpringMVC 中的Interceptor 是链式的调用的，在一个应用中或者说是在一个请求中可以同时存在多个Interceptor 。每个Interceptor 的调用会依据它的声明顺序依次执行，而且最先执行的都是Interceptor 中的preHandle 方法，所以可以在这个方法中进行一些前置初始化操作或者是对当前请求的一个预处理，也可以在这个方法中进行一些判断来决定请求是否要继续进行下去。该方法的返回值是布尔值Boolean 类型的，当它返回为false 时，表示请求结束，后续的Interceptor 和Controller 都不会再执行；当返回值为true 时就会继续调用下一个Interceptor 的preHandle 方法，如果已经是最后一个Interceptor 的时候就会是调用当前请求的Controller 方法。</p>
<p>   （2 ）postHandle (HttpServletRequest request, HttpServletResponse response, Object handle, ModelAndView modelAndView) 方法，</p>
<p>由preHandle 方法的解释我们知道这个方法包括后面要说到的afterCompletion 方法都只能是在当前所属的Interceptor 的preHandle 方法的返回值为true 时才能被调用。postHandle 方法，顾名思义就是在当前请求进行处理之后，也就是Controller 方法调用之后执行，但是它会在DispatcherServlet 进行视图返回渲染之前被调用，所以我们可以在这个方法中对Controller 处理之后的ModelAndView 对象进行操作。postHandle 方法被调用的方向跟preHandle 是相反的，也就是说先声明的Interceptor 的postHandle 方法反而会后执行，这和Struts2 里面的Interceptor 的执行过程有点类型。Struts2 里面的Interceptor 的执行过程也是链式的，只是在Struts2 里面需要手动调用ActionInvocation 的invoke 方法来触发对下一个Interceptor 或者是Action 的调用，然后每一个Interceptor 中在invoke 方法调用之前的内容都是按照声明顺序执行的，而invoke 方法之后的内容就是反向的。</p>
<p>   （3 ）afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handle, Exception ex) 方法，</p>
<p>该方法也是需要当前对应的Interceptor 的preHandle 方法的返回值为true时才会执行。顾名思义，该方法将在整个请求结束之后，也就是在DispatcherServlet 渲染了对应的视图之后执行。这个方法的主要作用是用于进行资源清理工作的。</p>
<hr>
<h4 id="mapper-dao"><a href="#mapper-dao" class="headerlink" title="mapper(dao):"></a>mapper(dao):</h4><h5 id="UserMapper-java-gt"><a href="#UserMapper-java-gt" class="headerlink" title="UserMapper.java&gt;"></a>UserMapper.java&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.mapper;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.domain.User;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.BaseQueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.QueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">//增删改查</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(User user)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(User user)</span></span>;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(Long id)</span></span>;</span><br><span class="line">    <span class="hljs-comment">//查单独一个</span></span><br><span class="line">    <span class="hljs-function">User <span class="hljs-title">get</span><span class="hljs-params">(Long id)</span></span>;</span><br><span class="line">    <span class="hljs-comment">//查询所有</span></span><br><span class="line">    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">list</span><span class="hljs-params">()</span></span>;</span><br><span class="line">    <span class="hljs-comment">//登录查询</span></span><br><span class="line">    <span class="hljs-function">User <span class="hljs-title">selectLogin</span><span class="hljs-params">(@Param(<span class="hljs-string">"username"</span>)</span> String username,</span></span><br><span class="line"><span class="hljs-function">                     @<span class="hljs-title">Param</span><span class="hljs-params">(<span class="hljs-string">"password"</span>)</span> String password)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">query</span><span class="hljs-params">(QueryObject qo)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//查询结果集中的数据</span></span><br><span class="line">    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">queryForList</span><span class="hljs-params">(BaseQueryObject qo)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//查询总条数</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">queryForCount</span><span class="hljs-params">(QueryObject qo)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="UserMapper-xml-gt"><a href="#UserMapper-xml-gt" class="headerlink" title="UserMapper.xml&gt;"></a>UserMapper.xml&gt;</h5><figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper PUBLIC <span class="hljs-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span><br><span class="line">        <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span> &gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;mapper namespace=<span class="hljs-string">"com.ujiuye.mapper.UserMapper"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;insert id=<span class="hljs-string">"save"</span> useGeneratedKeys=<span class="hljs-string">"true"</span> keyProperty=<span class="hljs-string">"id"</span> keyColumn=<span class="hljs-string">"id"</span>&gt;</span><br><span class="line">		<span class="hljs-function">insert into <span class="hljs-title">user</span><span class="hljs-params">(username,password,age,salary)</span> <span class="hljs-title">values</span> <span class="hljs-params">(#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;salary&#125;)</span></span></span><br><span class="line"><span class="hljs-function">	&lt;/insert&gt;</span></span><br><span class="line"><span class="hljs-function"></span></span><br><span class="line"><span class="hljs-function">    &lt;update id</span>=<span class="hljs-string">"update"</span>&gt;</span><br><span class="line">		update user set username=#&#123;username&#125;,password=#&#123;password&#125;,age=#&#123;age&#125;,</span><br><span class="line">		salary=#&#123;salary&#125; where id =#&#123;id&#125;</span><br><span class="line">	&lt;/update&gt;</span><br><span class="line"></span><br><span class="line">    &lt;delete id=<span class="hljs-string">"delete"</span>&gt;</span><br><span class="line">		delete from user where id=#&#123;id&#125;</span><br><span class="line">	&lt;/delete&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="hljs-string">"get"</span> resultType=<span class="hljs-string">"com.ujiuye.domain.User"</span>&gt;</span><br><span class="line">		select * from user where id=#&#123;id&#125;</span><br><span class="line">	&lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="hljs-string">"list"</span> resultType=<span class="hljs-string">"User"</span>&gt;</span><br><span class="line">		select * from user</span><br><span class="line">	&lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="hljs-string">"selectLogin"</span> resultType=<span class="hljs-string">"com.ujiuye.domain.User"</span>&gt;</span><br><span class="line">		select id,username,password,age,salary from user</span><br><span class="line">			where username=#&#123;username&#125; and password=#&#123;password&#125;</span><br><span class="line">	&lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="hljs-string">"query"</span> resultType=<span class="hljs-string">"com.ujiuye.domain.User"</span>&gt;</span><br><span class="line">        select id,username,password,age,salary from user</span><br><span class="line">        &lt;where&gt;</span><br><span class="line">            &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">"username!=null and username!='' "</span>&gt;</span><br><span class="line">                <span class="hljs-function">and username like <span class="hljs-title">concat</span><span class="hljs-params">(<span class="hljs-string">'%'</span>,#&#123;username&#125;,<span class="hljs-string">'%'</span>)</span></span></span><br><span class="line"><span class="hljs-function">            &lt;/<span class="hljs-keyword">if</span>&gt;</span></span><br><span class="line"><span class="hljs-function">            &lt;<span class="hljs-keyword">if</span> test</span>=<span class="hljs-string">"salary!=null"</span>&gt;</span><br><span class="line">                and salary = #&#123;salary&#125;</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">        &lt;/where&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="hljs-string">"queryForCount"</span> resultType=<span class="hljs-string">"int"</span>&gt;</span><br><span class="line">        <span class="hljs-function">select <span class="hljs-title">count</span><span class="hljs-params">(*)</span> from user</span></span><br><span class="line"><span class="hljs-function">        &lt;where&gt;</span></span><br><span class="line"><span class="hljs-function">            &lt;<span class="hljs-keyword">if</span> test</span>=<span class="hljs-string">"username!=null and username!='' "</span>&gt;</span><br><span class="line">                <span class="hljs-function">and username like <span class="hljs-title">concat</span><span class="hljs-params">(<span class="hljs-string">'%'</span>,#&#123;username&#125;,<span class="hljs-string">'%'</span>)</span></span></span><br><span class="line"><span class="hljs-function">            &lt;/<span class="hljs-keyword">if</span>&gt;</span></span><br><span class="line"><span class="hljs-function">            &lt;<span class="hljs-keyword">if</span> test</span>=<span class="hljs-string">"salary!=null"</span>&gt;</span><br><span class="line">                and salary = #&#123;salary&#125;</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">        &lt;/where&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="hljs-string">"queryForList"</span> resultType=<span class="hljs-string">"User"</span>&gt;</span><br><span class="line">        select * from user</span><br><span class="line">        &lt;where&gt;</span><br><span class="line">            &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">"username!=null and username!='' "</span>&gt;</span><br><span class="line">                <span class="hljs-function">and username like <span class="hljs-title">concat</span><span class="hljs-params">(<span class="hljs-string">'%'</span>,#&#123;username&#125;,<span class="hljs-string">'%'</span>)</span></span></span><br><span class="line"><span class="hljs-function">            &lt;/<span class="hljs-keyword">if</span>&gt;</span></span><br><span class="line"><span class="hljs-function">            &lt;<span class="hljs-keyword">if</span> test</span>=<span class="hljs-string">"salary!=null"</span>&gt;</span><br><span class="line">                and salary = #&#123;salary&#125;</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">        &lt;/where&gt;</span><br><span class="line">        limit #&#123;start&#125;,#&#123;pageSize&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
<p>mapper映射文件可以跟java文件放在同一个目录下,因为pom里配置了:</p>
<figure class="highlight html hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span></span><br><span class="line">   <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span></span><br><span class="line">     <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span></span><br><span class="line">       <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span></span><br><span class="line">       <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span></span><br><span class="line">         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span></span><br><span class="line">       <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span></span><br><span class="line">     <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span></span><br><span class="line">   <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span></span><br><span class="line"> <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="qo-分页"><a href="#qo-分页" class="headerlink" title="qo(分页):"></a>qo(分页):</h4><h5 id="BaseQueryObject-gt"><a href="#BaseQueryObject-gt" class="headerlink" title="BaseQueryObject&gt;"></a>BaseQueryObject&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.qo;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Setter;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Setter</span><span class="hljs-meta">@Getter</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseQueryObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer currentPage = <span class="hljs-number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer pageSize = <span class="hljs-number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getStart</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.currentPage-<span class="hljs-number">1</span>)*<span class="hljs-keyword">this</span>.pageSize;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="DepartmentQueryObject-gt"><a href="#DepartmentQueryObject-gt" class="headerlink" title="DepartmentQueryObject&gt;"></a>DepartmentQueryObject&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.qo;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DepartemntQueryObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> String deptName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="QueryObject-gt"><a href="#QueryObject-gt" class="headerlink" title="QueryObject&gt;"></a>QueryObject&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.qo;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Setter;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Getter</span><span class="hljs-meta">@Setter</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QueryObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseQueryObject</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> String username;</span><br><span class="line">    <span class="hljs-keyword">private</span> BigDecimal salary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="result"><a href="#result" class="headerlink" title="result:"></a>result:</h4><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.result;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Setter;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Setter</span></span><br><span class="line"><span class="hljs-meta">@Getter</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PageResult</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//结果集 数据</span></span><br><span class="line">    <span class="hljs-keyword">private</span> List&lt;?&gt; data;</span><br><span class="line">    <span class="hljs-comment">//总的条数</span></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer totalCount;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//计算出来</span></span><br><span class="line">    <span class="hljs-comment">//上一页</span></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer prevPage;</span><br><span class="line">    <span class="hljs-comment">//下一页</span></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer nextPage;</span><br><span class="line">    <span class="hljs-comment">//尾页</span></span><br><span class="line">    <span class="hljs-keyword">private</span> Integer endPage;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//计算方法</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PageResult</span><span class="hljs-params">(List&lt;?&gt; data, Integer totalCount, Integer currentPage, Integer pageSize)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.data = data;</span><br><span class="line">        <span class="hljs-keyword">this</span>.totalCount = totalCount;</span><br><span class="line">        <span class="hljs-keyword">this</span>.prevPage= currentPage-<span class="hljs-number">1</span>&gt;<span class="hljs-number">1</span>?currentPage-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">this</span>.endPage=totalCount%pageSize == <span class="hljs-number">0</span>?totalCount/pageSize:totalCount/pageSize+<span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">this</span>.nextPage = currentPage+<span class="hljs-number">1</span>&lt;endPage?currentPage+<span class="hljs-number">1</span>:endPage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> PageResult EMPTY_LIST = <span class="hljs-keyword">new</span> PageResult(Collections.emptyList(),<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="service-层"><a href="#service-层" class="headerlink" title="service 层:"></a>service 层:</h4><h5 id="接口-gt"><a href="#接口-gt" class="headerlink" title="接口&gt;"></a>接口&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.service;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.alibaba.druid.sql.PagerUtils;</span><br><span class="line"><span class="hljs-keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.domain.User;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.BaseQueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.QueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.result.PageResult;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IUserService</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">//增</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(User user)</span></span>;</span><br><span class="line">    <span class="hljs-comment">//改</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(User user)</span></span>;</span><br><span class="line">    <span class="hljs-comment">//删</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(Long id)</span></span>;</span><br><span class="line">    <span class="hljs-comment">//查单个</span></span><br><span class="line">    <span class="hljs-function">User <span class="hljs-title">get</span><span class="hljs-params">(Long id)</span></span>;</span><br><span class="line">    <span class="hljs-comment">//查询所有</span></span><br><span class="line">    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">list</span><span class="hljs-params">()</span></span>;</span><br><span class="line">    <span class="hljs-comment">//登录方法</span></span><br><span class="line">    <span class="hljs-function">User <span class="hljs-title">selectLogin</span><span class="hljs-params">(String username,String password)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">query</span><span class="hljs-params">(QueryObject qo)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function">PageResult <span class="hljs-title">query2</span><span class="hljs-params">(QueryObject qo)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function">PageInfo <span class="hljs-title">query3</span><span class="hljs-params">(QueryObject qo)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="UserServiceImpl-实现类-gt"><a href="#UserServiceImpl-实现类-gt" class="headerlink" title="UserServiceImpl 实现类&gt;"></a>UserServiceImpl 实现类&gt;</h5><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.github.pagehelper.PageHelper;</span><br><span class="line"><span class="hljs-keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.domain.User;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.mapper.UserMapper;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.BaseQueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.qo.QueryObject;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.result.PageResult;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.service.IUserService;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Service</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IUserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PageResult EMPTY_LIST =</span><br><span class="line">            <span class="hljs-keyword">new</span> PageResult(Collections.emptyList(), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(User user)</span> </span>&#123;</span><br><span class="line">        userMapper.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(User user)</span> </span>&#123;</span><br><span class="line">        userMapper.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(Long id)</span> </span>&#123;</span><br><span class="line">        userMapper.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">get</span><span class="hljs-params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> userMapper.get(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">list</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> userMapper.list();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">selectLogin</span><span class="hljs-params">(String username, String password)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> userMapper.selectLogin(username, password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">query</span><span class="hljs-params">(QueryObject qo)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> userMapper.query(qo);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> PageResult <span class="hljs-title">query2</span><span class="hljs-params">(QueryObject qo)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">//查询总的条数qo</span></span><br><span class="line">        <span class="hljs-keyword">int</span> totlaCount = userMapper.queryForCount(qo);</span><br><span class="line">        <span class="hljs-keyword">if</span>(totlaCount == <span class="hljs-number">0</span>)&#123;</span><br><span class="line">            <span class="hljs-comment">//返回空结果集</span></span><br><span class="line">            <span class="hljs-keyword">return</span> PageResult.EMPTY_LIST;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-comment">//查询结果集数据</span></span><br><span class="line">        List&lt;User&gt; data = userMapper.queryForList(qo);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PageResult(data,totlaCount,qo.getCurrentPage(),qo.getPageSize());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> PageInfo <span class="hljs-title">query3</span><span class="hljs-params">(QueryObject qo)</span> </span>&#123;</span><br><span class="line">        PageHelper.startPage(qo.getCurrentPage(),qo.getPageSize());</span><br><span class="line">        List&lt;User&gt;  list = userMapper.query(qo);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PageInfo(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="Test"><a href="#Test" class="headerlink" title="Test:"></a>Test:</h4><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.ujiuye.test;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.github.pagehelper.PageHelper;</span><br><span class="line"><span class="hljs-keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.domain.User;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.mapper.UserMapper;</span><br><span class="line"><span class="hljs-keyword">import</span> com.ujiuye.service.IUserService;</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="hljs-keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="hljs-keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@ContextConfiguration</span>(<span class="hljs-string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> IUserService service;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> User user = <span class="hljs-keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSave</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        user = <span class="hljs-keyword">new</span> User(<span class="hljs-keyword">null</span>,<span class="hljs-string">"特朗普"</span>,<span class="hljs-string">"123"</span>,<span class="hljs-number">30</span>,<span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"1.00"</span>));</span><br><span class="line">        service.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testUpdate</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        user = <span class="hljs-keyword">new</span> User(<span class="hljs-number">2L</span>,<span class="hljs-string">"奥巴马"</span>,<span class="hljs-string">"123"</span>,<span class="hljs-number">12</span>,<span class="hljs-keyword">new</span> BigDecimal(<span class="hljs-string">"2000.00"</span>));</span><br><span class="line">        service.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testDelete</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        service.delete(<span class="hljs-number">9L</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testGet</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        System.out.println(service.get(<span class="hljs-number">7L</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testList</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        System.out.println(service.list());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testLogin</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        user = service.selectLogin(<span class="hljs-string">"扎克伯格"</span>,<span class="hljs-string">"456"</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Test</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testPageHelper</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        PageHelper.startPage(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);</span><br><span class="line">        List&lt;User&gt; list = userMapper.list();</span><br><span class="line"></span><br><span class="line">        PageInfo pageInfo = <span class="hljs-keyword">new</span> PageInfo(list);</span><br><span class="line">        System.out.println(pageInfo.getList().get(<span class="hljs-number">0</span>));</span><br><span class="line">        System.out.println(pageInfo.getList().get(<span class="hljs-number">1</span>));</span><br><span class="line">        System.out.println(pageInfo.getList().get(<span class="hljs-number">2</span>));</span><br><span class="line">        System.out.println(<span class="hljs-string">"上一页:"</span>+pageInfo.getPrePage());</span><br><span class="line">        System.out.println(<span class="hljs-string">"下一页:"</span>+pageInfo.getNextPage());</span><br><span class="line">        System.out.println(<span class="hljs-string">"总页数:"</span>+pageInfo.getSize());</span><br><span class="line">        System.out.println(<span class="hljs-string">"首页:"</span>+pageInfo.getNavigateFirstPage());</span><br><span class="line">        System.out.println(<span class="hljs-string">"尾页:"</span>+pageInfo.getNavigateLastPage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="前台"><a href="#前台" class="headerlink" title="前台:"></a>前台:</h4><p>我的前台很丑不过还是放一下吧&gt;</p>
<h5 id="edit-jsp-用户编辑页面-gt"><a href="#edit-jsp-用户编辑页面-gt" class="headerlink" title="edit.jsp 用户编辑页面&gt;"></a>edit.jsp 用户编辑页面&gt;</h5><figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;用户编辑页面&lt;/h1&gt;</span><br><span class="line">&lt;form action=<span class="hljs-string">"/user/saveOrUpdate.do"</span> method=<span class="hljs-string">"post"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="hljs-string">"hidden"</span> value=<span class="hljs-string">"$&#123;user.id&#125;"</span> name=<span class="hljs-string">"id"</span>&gt;</span><br><span class="line">    姓名:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span> value=<span class="hljs-string">"$&#123;user.username&#125;"</span>&gt;&lt;br&gt;</span><br><span class="line">    密码:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"password"</span> value=<span class="hljs-string">"$&#123;user.password&#125;"</span>&gt;&lt;br&gt;</span><br><span class="line">    年龄:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"age"</span> value=<span class="hljs-string">"$&#123;user.age&#125;"</span>&gt;&lt;br&gt;</span><br><span class="line">    月薪:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"salary"</span> value=<span class="hljs-string">"$&#123;user.salary&#125;"</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="hljs-string">"submit"</span> value=<span class="hljs-string">"ok!~"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="list-jsp-主页面-gt"><a href="#list-jsp-主页面-gt" class="headerlink" title="list.jsp 主页面&gt;"></a>list.jsp 主页面&gt;</h5><figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;</span><br><span class="line">&lt;%<span class="hljs-meta">@taglib</span> prefix=<span class="hljs-string">"c"</span> uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function">function <span class="hljs-title">goPage</span><span class="hljs-params">(page)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-comment">//修改currentPage文本框的值</span></span><br><span class="line">            <span class="hljs-keyword">if</span>(page != undefined)&#123;</span><br><span class="line">                document.getElementById(<span class="hljs-string">"currentPage"</span>).value = page;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-comment">//提交分页查询的表单</span></span><br><span class="line">            <span class="hljs-keyword">var</span> pageForm = document.getElementById(<span class="hljs-string">"pageForm"</span>);</span><br><span class="line">            pageForm.submit();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form id=<span class="hljs-string">"pageForm"</span> action=<span class="hljs-string">"/user/query.do"</span> method=<span class="hljs-string">"post"</span>&gt;</span><br><span class="line">    &lt;h1&gt;用户列表&lt;/h1&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line"></span><br><span class="line">            姓名:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span> value=<span class="hljs-string">"$&#123;qo.username&#125;"</span>&gt;</span><br><span class="line">            工资:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"salary"</span> value=<span class="hljs-string">"$&#123;qo.salary&#125;"</span>&gt;</span><br><span class="line">            &lt;input type=<span class="hljs-string">"submit"</span> value=<span class="hljs-string">"查询"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">    &lt;a href="/user/edit.do"&gt;新增&lt;/a&gt;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;table border=<span class="hljs-string">"1"</span> width=<span class="hljs-string">"60%"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;th&gt;编号&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;年龄&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;工资&lt;/th&gt;</span><br><span class="line">            &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">        &lt;c:forEach items=<span class="hljs-string">"$&#123;pageInfo.list&#125;"</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">"user"</span>&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.id&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.username&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.age&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.salary&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;</span><br><span class="line">                    &lt;a href="/user/edit.do?id=$&#123;user.id&#125;"&gt;修改&lt;/a&gt;</span><br><span class="line">                    &lt;a href="/user/delete.do?id=$&#123;user.id&#125;"&gt;删除&lt;/a&gt;</span><br><span class="line">                &lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/c:forEach&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;tr&gt;</span><br><span class="line"></span><br><span class="line">            &lt;td colspan=<span class="hljs-string">"5"</span>&gt;</span><br><span class="line">                &lt;a href="javascript:void(0);" onclick="goPage(1)"&gt;首页&lt;/a&gt;</span><br><span class="line">                &lt;a href="javascript:void(0);" onclick="goPage($&#123;pageInfo.prePage&#125;)"&gt;上一页&lt;/a&gt;</span><br><span class="line">                &lt;a href="javascript:void(0);" onclick="goPage($&#123;pageInfo.nextPage&#125;)"&gt;下一页&lt;/a&gt;</span><br><span class="line">                &lt;a href="javascript:void(0);" onclick="goPage($&#123;pageInfo.navigateLastPage&#125;)"&gt;尾页&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">                每个显示</span><br><span class="line">                &lt;select name=<span class="hljs-string">"pageSize"</span> onchange=<span class="hljs-string">"goPage(1)"</span>&gt;</span><br><span class="line">                    &lt;option value="3" $&#123;qo.pageSize == 3?"selected":""&#125;&gt;3&lt;/option&gt;</span><br><span class="line">                    &lt;option value="5" $&#123;qo.pageSize == 5?"selected":""&#125;&gt;5&lt;/option&gt;</span><br><span class="line">                    &lt;option value="10" $&#123;qo.pageSize == 10?"selected":""&#125;&gt;10&lt;/option&gt;</span><br><span class="line">                &lt;/select&gt;</span><br><span class="line">                条</span><br><span class="line"></span><br><span class="line">                &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">                &lt;input type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"currentPage"</span> name=<span class="hljs-string">"currentPage"</span> style=<span class="hljs-string">"width: 50px"</span></span><br><span class="line">                       value="$&#123;qo.currentPage&#125;"&gt; &lt;button onclick="goPage()"&gt;跳转&lt;/button&gt;</span><br><span class="line">                总共$&#123;pageInfo.total&#125;条/共$&#123;pageInfo.navigateLastPage&#125;页</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="login-jsp-gt"><a href="#login-jsp-gt" class="headerlink" title="login.jsp&gt;"></a>login.jsp&gt;</h5><figure class="highlight hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;login&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;登录&lt;/h1&gt;</span><br><span class="line">&lt;%--如果获取到msg说明密码错误--%&gt;</span><br><span class="line">&lt;font color="red"&gt;$&#123;msg&#125;&lt;/font&gt;</span><br><span class="line">    &lt;form action=<span class="hljs-string">"/login.do"</span> method=<span class="hljs-string">"post"</span>&gt;</span><br><span class="line">        账号:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span>&gt; &lt;br&gt;</span><br><span class="line">        密码:&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"password"</span>&gt;&lt;br&gt;</span><br><span class="line">        &lt;input type=<span class="hljs-string">"submit"</span> value=<span class="hljs-string">"登录"</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/SSM框架/">SSM框架</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">Like this article? Support the author with</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>Alipay</span>
    <div class="qrcode"><img src="/images/zhifubao.jpg" alt="Alipay"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>Wechat</span>
    <div class="qrcode"><img src="/images/weixin.jpg" alt="Wechat"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/05/25/springboot/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Spring Boot快速入门--你好Spring Boot(一)</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2019/05/20/Hexo+GitHub-for-Windows/">
                <span class="level-item">Hexo+GitHub搭建个人博客  for Windows</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/1.png" alt="于宪涛">
                    
                    
                    <p class="is-size-4 is-block">
                        于宪涛
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        热心的学习者 狂热的数码迷
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Beijing, China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        14
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        7
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        9
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://www.zhihu.com/people/san-ji-nei-ku/activities" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/aaaTao66">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="https://twitter.com/iloveueason">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
<div class="card widget" id="toc">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Catalogue
            </h3>
            <ul class="menu-list"><li>
        <a class="is-flex" href="#开发环境">
        <span class="has-mr-6">1</span>
        <span>开发环境:</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#pom-xml-文件">
        <span class="has-mr-6">1.1</span>
        <span>pom.xml 文件:</span>
        </a></li><li>
        <a class="is-flex" href="#Mybatis于Spring的整合-applicationContext-xml">
        <span class="has-mr-6">1.2</span>
        <span>Mybatis于Spring的整合 applicationContext.xml:</span>
        </a></li><li>
        <a class="is-flex" href="#SpringMVC-xml的配置">
        <span class="has-mr-6">1.3</span>
        <span>SpringMVC.xml的配置:</span>
        </a></li><li>
        <a class="is-flex" href="#MyBatis-xml">
        <span class="has-mr-6">1.4</span>
        <span>MyBatis.xml:</span>
        </a></li><li>
        <a class="is-flex" href="#web-xml">
        <span class="has-mr-6">1.5</span>
        <span>web.xml:</span>
        </a></li><li>
        <a class="is-flex" href="#controller">
        <span class="has-mr-6">1.6</span>
        <span>controller:</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#LoginController-gt">
        <span class="has-mr-6">1.6.1</span>
        <span>LoginController&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#UserController-gt">
        <span class="has-mr-6">1.6.2</span>
        <span>UserController&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#domain-实体类">
        <span class="has-mr-6">1.6.3</span>
        <span>domain 实体类:</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#interceptor登录检查-gt">
        <span class="has-mr-6">1.7</span>
        <span>interceptor登录检查&gt;</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#LoginInterceptor">
        <span class="has-mr-6">1.7.1</span>
        <span>LoginInterceptor:</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#mapper-dao">
        <span class="has-mr-6">1.8</span>
        <span>mapper(dao):</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#UserMapper-java-gt">
        <span class="has-mr-6">1.8.1</span>
        <span>UserMapper.java&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#UserMapper-xml-gt">
        <span class="has-mr-6">1.8.2</span>
        <span>UserMapper.xml&gt;</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#qo-分页">
        <span class="has-mr-6">1.9</span>
        <span>qo(分页):</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#BaseQueryObject-gt">
        <span class="has-mr-6">1.9.1</span>
        <span>BaseQueryObject&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#DepartmentQueryObject-gt">
        <span class="has-mr-6">1.9.2</span>
        <span>DepartmentQueryObject&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#QueryObject-gt">
        <span class="has-mr-6">1.9.3</span>
        <span>QueryObject&gt;</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#result">
        <span class="has-mr-6">1.10</span>
        <span>result:</span>
        </a></li><li>
        <a class="is-flex" href="#service-层">
        <span class="has-mr-6">1.11</span>
        <span>service 层:</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#接口-gt">
        <span class="has-mr-6">1.11.1</span>
        <span>接口&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#UserServiceImpl-实现类-gt">
        <span class="has-mr-6">1.11.2</span>
        <span>UserServiceImpl 实现类&gt;</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#Test">
        <span class="has-mr-6">1.12</span>
        <span>Test:</span>
        </a></li><li>
        <a class="is-flex" href="#前台">
        <span class="has-mr-6">1.13</span>
        <span>前台:</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#edit-jsp-用户编辑页面-gt">
        <span class="has-mr-6">1.13.1</span>
        <span>edit.jsp 用户编辑页面&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#list-jsp-主页面-gt">
        <span class="has-mr-6">1.13.2</span>
        <span>list.jsp 主页面&gt;</span>
        </a></li><li>
        <a class="is-flex" href="#login-jsp-gt">
        <span class="has-mr-6">1.13.3</span>
        <span>login.jsp&gt;</span>
        </a></li></ul></li></ul></li></ul>
        </div>
    </div>
</div>

    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://www.zhihu.com/people/san-ji-nei-ku/activities" target="_blank">
                    <span class="level-left">
                        <span class="level-item">知乎</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.zhihu.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Hadoop生态圈/">
            <span class="level-start">
                <span class="level-item">Hadoop生态圈</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Scala/">
            <span class="level-start">
                <span class="level-item">Scala</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Spring-Boot/">
            <span class="level-start">
                <span class="level-item">Spring Boot</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Spring-SpringMVC-MyBatis/">
            <span class="level-start">
                <span class="level-item">Spring-SpringMVC-MyBatis</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/《大话数据结构》/">
            <span class="level-start">
                <span class="level-item">《大话数据结构》</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/博客搭建/">
            <span class="level-start">
                <span class="level-item">博客搭建</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/浅谈ios-Android-非技术/">
            <span class="level-start">
                <span class="level-item">浅谈ios/Android(非技术)</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hbase/" style="font-size: 10px;">Hbase</a> <a href="/tags/SSM框架/" style="font-size: 10px;">SSM框架</a> <a href="/tags/Scala/" style="font-size: 15px;">Scala</a> <a href="/tags/Spring-Boot/" style="font-size: 20px;">Spring Boot</a> <a href="/tags/我的博客搭建过程/" style="font-size: 10px;">我的博客搭建过程</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/闲聊/" style="font-size: 10px;">闲聊</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/07/02/bootlog/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Spring Boot--日志框架的学习">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-01T16:00:00.000Z">2019-07-02</time></div>
                    <a href="/2019/07/02/bootlog/" class="has-link-black-ter is-size-6">Spring Boot--日志框架的学习</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Spring-Boot/">Spring Boot</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/30/boot2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Spring Boot深入系列--配置文件">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-29T16:00:00.000Z">2019-06-30</time></div>
                    <a href="/2019/06/30/boot2/" class="has-link-black-ter is-size-6">Spring Boot深入系列--配置文件</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Spring-Boot/">Spring Boot</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/25/dahua2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《大话数据结构》学习笔记-day02-算法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-24T16:00:00.000Z">2019-06-25</time></div>
                    <a href="/2019/06/25/dahua2/" class="has-link-black-ter is-size-6">《大话数据结构》学习笔记-day02-算法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/《大话数据结构》/">《大话数据结构》</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/24/dahua1/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《大话数据结构》学习笔记-day01-数据结构">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-23T16:00:00.000Z">2019-06-24</time></div>
                    <a href="/2019/06/24/dahua1/" class="has-link-black-ter is-size-6">《大话数据结构》学习笔记-day01-数据结构</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/《大话数据结构》/">《大话数据结构》</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/23/scala基本语法/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="scala 环境搭建&amp;基本语法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-22T16:00:00.000Z">2019-06-23</time></div>
                    <a href="/2019/06/23/scala基本语法/" class="has-link-black-ter is-size-6">scala 环境搭建&amp;基本语法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Scala/">Scala</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hadoop/">
                        <span class="tag">Hadoop</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hbase/">
                        <span class="tag">Hbase</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSM框架/">
                        <span class="tag">SSM框架</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Scala/">
                        <span class="tag">Scala</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Spring-Boot/">
                        <span class="tag">Spring Boot</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/我的博客搭建过程/">
                        <span class="tag">我的博客搭建过程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/算法/">
                        <span class="tag">算法</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/闲聊/">
                        <span class="tag">闲聊</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/07/02/bootlog/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Spring Boot--日志框架的学习">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-01T16:00:00.000Z">2019-07-02</time></div>
                    <a href="/2019/07/02/bootlog/" class="has-link-black-ter is-size-6">Spring Boot--日志框架的学习</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Spring-Boot/">Spring Boot</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/30/boot2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Spring Boot深入系列--配置文件">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-29T16:00:00.000Z">2019-06-30</time></div>
                    <a href="/2019/06/30/boot2/" class="has-link-black-ter is-size-6">Spring Boot深入系列--配置文件</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Spring-Boot/">Spring Boot</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/25/dahua2/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《大话数据结构》学习笔记-day02-算法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-24T16:00:00.000Z">2019-06-25</time></div>
                    <a href="/2019/06/25/dahua2/" class="has-link-black-ter is-size-6">《大话数据结构》学习笔记-day02-算法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/《大话数据结构》/">《大话数据结构》</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/24/dahua1/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《大话数据结构》学习笔记-day01-数据结构">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-23T16:00:00.000Z">2019-06-24</time></div>
                    <a href="/2019/06/24/dahua1/" class="has-link-black-ter is-size-6">《大话数据结构》学习笔记-day01-数据结构</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/《大话数据结构》/">《大话数据结构》</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/23/scala基本语法/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="scala 环境搭建&amp;基本语法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-22T16:00:00.000Z">2019-06-23</time></div>
                    <a href="/2019/06/23/scala基本语法/" class="has-link-black-ter is-size-6">scala 环境搭建&amp;基本语法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Scala/">Scala</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hadoop/">
                        <span class="tag">Hadoop</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hbase/">
                        <span class="tag">Hbase</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSM框架/">
                        <span class="tag">SSM框架</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Scala/">
                        <span class="tag">Scala</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Spring-Boot/">
                        <span class="tag">Spring Boot</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/我的博客搭建过程/">
                        <span class="tag">我的博客搭建过程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/算法/">
                        <span class="tag">算法</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/闲聊/">
                        <span class="tag">闲聊</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
	<div id="vcomments"></div>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="SSM框架整合回顾(一)" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 于宪涛&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                Visited by <span id="busuanzi_value_site_uv">0</span> users
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-Hans");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>
	
    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
	
    <script>
        new Valine({
            el: '#vcomments',
            appId: 'K2pfcRNJyLhhJISc7BaeYA88-gzGzoHsz',
            appKey: 'gHHPTdGOoXqqMFw6YdRml785'
        })
    </script>
</body>
</html>